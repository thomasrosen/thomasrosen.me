(this.webpackJsonpthomasrosen=this.webpackJsonpthomasrosen||[]).push([[3],{37:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n=a(4),i=a(1),o=(a(37),a(5)),s=a(0),c={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},r=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=e.getTime()-t.getTime();for(var n in c)if(Math.abs(a)>c[n]||"second"===n)return r.format(Math.round(a/c[n]),n)};function d(){var e=Object(i.useState)(null),t=Object(n.a)(e,2),a=t[0],c=t[1],r=Object(i.useState)(!0),d=Object(n.a)(r,2),h=d[0],u=d[1],j=Object(i.useState)(null),m=Object(n.a)(j,2),p=m[0],b=m[1];Object(i.useEffect)((function(){fetch("/blog/articles/"+window.location.pathname.split("/").pop()+".json").then((function(e){return e.json()})).then((function(e){e.article.relative_date=l(new Date(e.article.date)),c(e.article),u(!1)})).catch((function(e){b(e),u(!1)}))}),[]);var g=null;return a&&"string"===typeof a.coverphoto&&a.coverphoto.length>0&&(g=["https://thomasrosen.me/".concat(a.coverphoto)]),Object(s.jsxs)("div",{className:"tab_content article ".concat(a&&"serif"===a.font?"serif_font":"sans_serif_font"),children:[h&&Object(s.jsx)("p",{children:"Loading article..."}),p&&Object(s.jsxs)("p",{children:["Error loading article: ",p.message]}),a?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{itemprop:"headline",children:a.title}),Object(s.jsx)("p",{children:Object(s.jsxs)("strong",{children:[Object(s.jsx)("time",{datetime:a.date,title:a.date,itemprop:"datePublished",children:a.relative_date})," \u2014\xa0",Object(s.jsx)("span",{className:"tag_row",itemprop:"keywords",children:a.tags.map((function(e){return Object(s.jsx)("button",{className:"small",disabled:!0,children:e},e)}))})]})}),a.audio&&"string"===typeof a.audio&&a.audio.length>0?Object(s.jsxs)("audio",{controls:!0,preload:"metadata",style:{width:"100%",marginBlockEnd:"20px"},src:a.audio,children:[Object(s.jsx)("source",{src:a.audio,type:"audio/mpeg"}),Object(s.jsx)("p",{children:Object(s.jsx)("a",{href:a.audio,children:Object(s.jsx)("button",{children:"Download audio of the article."})})})]}):null,Object(s.jsx)("div",{dangerouslySetInnerHTML:{__html:a.html},itemprop:"articleBody"}),Object(s.jsx)(o.a,{}),Object(s.jsx)("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"BlogPosting",mainEntityOfPage:{"@type":"WebPage","@id":"https://thomasrosen.me/articles/".concat(a.slug)},headline:a.title,image:g,datePublished:a.date,dateModified:a.date,author:{"@type":"Person",name:"Thomas Rosen"},publisher:{"@type":"Organization",name:"Thomas Rosen",logo:{"@type":"ImageObject",url:"https://thomasrosen.me/images/me_small.jpg",width:800,height:800}},articleBody:a.html})})]}):null]})}}}]);
//# sourceMappingURL=3.b25fd15d.chunk.js.map