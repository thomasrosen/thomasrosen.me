(this.webpackJsonpthomasrosen=this.webpackJsonpthomasrosen||[]).push([[3],{37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var a=n(4),i=n(1),c=(n(37),n(5)),r=n(0),s={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},o=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=e.getTime()-t.getTime();for(var a in s)if(Math.abs(n)>s[a]||"second"===a)return o.format(Math.round(n/s[a]),a)};function d(){var e=Object(i.useState)(null),t=Object(a.a)(e,2),n=t[0],s=t[1],o=Object(i.useState)(!0),d=Object(a.a)(o,2),u=d[0],j=d[1],h=Object(i.useState)(null),b=Object(a.a)(h,2),m=b[0],p=b[1];return Object(i.useEffect)((function(){fetch("/blog/articles/"+window.location.pathname.split("/").pop()+".json").then((function(e){return e.json()})).then((function(e){e.article.relative_date=l(new Date(e.article.date)),s(e.article),j(!1)})).catch((function(e){p(e),j(!1)}))}),[]),Object(r.jsxs)("div",{className:"tab_content article ".concat(n&&"serif"===n.font?"serif_font":"sans_serif_font"),children:[u&&Object(r.jsx)("p",{children:"Loading article..."}),m&&Object(r.jsxs)("p",{children:["Error loading article: ",m.message]}),n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{itemprop:"headline",children:n.title}),Object(r.jsx)("p",{children:Object(r.jsxs)("strong",{children:[Object(r.jsx)("time",{datetime:n.date,title:n.date,itemprop:"datePublished",children:n.relative_date})," \u2014\xa0",Object(r.jsx)("span",{className:"tag_row",itemprop:"keywords",children:n.tags.map((function(e){return Object(r.jsx)("button",{className:"small",disabled:!0,children:e},e)}))})]})}),n.audio&&"string"===typeof n.audio&&n.audio.length>0?Object(r.jsxs)("audio",{controls:!0,preload:"metadata",style:{width:"100%",marginBlockEnd:"20px"},src:n.audio,children:[Object(r.jsx)("source",{src:n.audio,type:"audio/mpeg"}),Object(r.jsx)("p",{children:Object(r.jsx)("a",{href:n.audio,children:Object(r.jsx)("button",{children:"Download audio of the article."})})})]}):null,Object(r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.html},itemprop:"articleBody"}),Object(r.jsx)(c.a,{})]}):null]})}}}]);
//# sourceMappingURL=3.f0946a6a.chunk.js.map